# OEWS Migration Application Environment Configuration Template
# Copy this file to .env and update the values for your environment

# Database Configuration
# For SQLite (development): sqlite:///oews_migration.db
# For PostgreSQL (production): postgresql://username:password@localhost:5432/oews_database
DATABASE_URL=sqlite:///oews_migration.db

# API Configuration - Rate Limiting
# Rate limit for query endpoint (conservative for hobby use)
RATE_LIMIT_QUERY_ENDPOINT=10/hour

# Rate limit for other endpoints (health, models, etc.)
RATE_LIMIT_DEFAULT=100/hour

# API Configuration - Backpressure
# Maximum concurrent requests (matches ThreadPoolExecutor workers)
MAX_CONCURRENT_REQUESTS=8

# Logging Configuration
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Performance Configuration
# Maximum memory usage in bytes (default: 1.75GB per constitutional requirements)
MAX_MEMORY_USAGE=1879048192

# Migration batch size (number of records processed at once)
# Recommended: 10000-50000 depending on available memory
BATCH_SIZE=10000

# File Discovery Configuration
# Maximum file size to process (in bytes, default: 73MB)
MAX_FILE_SIZE=76546048

# Validation Configuration
# Sample percentage for validation (0.1-1.0, default: 1.0 = 100%)
VALIDATION_SAMPLE_PERCENTAGE=1.0

# Retry Configuration
# Number of retries for failed operations
MAX_RETRIES=3

# Timeout Configuration
# Database connection timeout in seconds
DB_CONNECTION_TIMEOUT=30

# Performance Monitoring
# Enable performance monitoring (true/false)
ENABLE_PERFORMANCE_MONITORING=true

# Audit and Logging
# Directory for log files (relative to project root)
LOG_DIRECTORY=logs

# Directory for temporary files during processing
TEMP_DIRECTORY=temp

# Schema Configuration
# Default schema name for unified database
DEFAULT_SCHEMA_NAME=oews_unified

# Backup Configuration
# Enable automatic backups before migration (true/false)
ENABLE_AUTO_BACKUP=true

# Directory for backup files
BACKUP_DIRECTORY=backups